<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="Nem치s OS: Ubuntu without Ubuntu. Ultra ligero, con TPT y soporte para PCs antiguos.">
  <title>Nem치s OS - El Poder de lo Simple</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Ubuntu:wght@300;400;700&display=swap" rel="stylesheet">
  <script>
    // Theme persistence script
    (() => {
      const savedTheme = localStorage.getItem('theme');
      const prefersDark = window.matchMedia('(prefers-color-scheme: dark)').matches;
      const theme = savedTheme || (prefersDark ? 'dark' : 'light');
      document.documentElement.setAttribute('data-theme', theme);
    })();
  </script>
  <style>
    :root {
      --primary: #2d97f0;
      --bg-start: #0a1828;
      --card: #1b2d47;
      --text: #e0e0e0;
      --title: #ffffff;
      --accent: #00ffc3;
      --shadow: rgba(0, 255, 195, 0.2);
      --bg-alt: #112438;
      --shape-fill-main: var(--bg-start);
      --shape-fill-alt: var(--bg-alt);
    }

    [data-theme='light'] {
      --bg-start: #f4f7f9;
      --card: #ffffff;
      --text: #333e48;
      --title: #111827;
      --accent: #009e7a;
      --shadow: rgba(0, 0, 0, 0.1);
      --bg-alt: #e9eef2;
    }

    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    html {
      scroll-behavior: smooth;
    }

    body {
      font-family: 'Ubuntu', sans-serif;
      background-color: var(--bg-start);
      color: var(--text);
      overflow-x: hidden;
      line-height: 1.6;
      cursor: none;
    }

    .cursor-dot,
    .cursor-dot-outline {
      pointer-events: none;
      position: fixed;
      top: 50%;
      left: 50%;
      border-radius: 50%;
      opacity: 0;
      transform: translate(-50%, -50%);
      transition: opacity 0.2s ease-in-out, transform 0.2s ease-in-out;
      z-index: 1001; /* High z-index */
    }

    .cursor-dot {
      width: 8px;
      height: 8px;
      background-color: var(--accent);
    }

    .cursor-dot-outline {
      width: 40px;
      height: 40px;
      border: 2px solid var(--accent);
      background-color: transparent;
    }

    .cursor-dot-outline.hover {
      transform: translate(-50%, -50%) scale(1.5);
      opacity: 0.5 !important;
    }

    .card p {
      font-size: 0.95rem;
      line-height: 1.5;
    }

    #particle-canvas {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      z-index: -1; /* Sit behind everything */
    }

    .hero {
      min-height: 80vh;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      text-align: center;
      padding: 60px 20px;
      perspective: 1000px;
    }

    .hero-subtitle, .tagline, .download-btn {
      opacity: 0;
      transform: translateY(20px);
      animation: fadeInUp 1s ease forwards;
    }

    .hero-title {
      font-size: 4.5rem;
      color: var(--title);
      margin-bottom: 10px;
      transform-style: preserve-3d;
      transition: transform 0.5s cubic-bezier(0.25, 0.46, 0.45, 0.94);
    }

    .hero-title span {
      display: inline-block;
      opacity: 0;
      transform: translateY(20px) scale(0.8);
      animation: revealLetter 0.6s cubic-bezier(0.25, 0.46, 0.45, 0.94) forwards;
      animation-delay: var(--delay);
    }

    @keyframes revealLetter {
      to {
        opacity: 1;
        transform: translateY(0) scale(1);
      }
    }
    .hero-subtitle { font-size: 1.5rem; margin-bottom: 5px; animation-delay: 0.4s; }
    .tagline { font-size: 1.2rem; opacity: 0.7; margin-bottom: 30px; animation-delay: 0.6s; }

    @keyframes fadeInUp {
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    nav {
      position: sticky;
      top: 0;
      padding: 15px 0;
      text-align: center;
      background: rgba(15, 28, 47, 0.8);
      backdrop-filter: blur(10px);
      z-index: 100;
      border-bottom: 1px solid rgba(255, 255, 255, 0.1);
    }

    nav a {
      color: var(--accent);
      margin: 0 20px;
      text-decoration: none;
      font-weight: bold;
      will-change: transform;
      transition: transform 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94), color 0.3s ease, text-shadow 0.3s ease;
    }

    nav a:hover {
      color: var(--text);
      text-shadow: 0 0 10px var(--accent);
    }

    .section {
      padding: 100px 20px;
      text-align: center;
      position: relative;
      overflow: hidden;
    }

    .section-title {
      font-size: 2.8rem;
      margin-bottom: 40px;
      color: var(--title);
      /* Estilos para la animaci칩n de scroll */
      opacity: 0;
      transform: translateY(30px);
      transition: opacity 0.8s ease, transform 0.8s ease;
      position: relative;
      padding-bottom: 15px;
    }

    .section-title::after {
      content: '';
      position: absolute;
      bottom: 0;
      left: 50%;
      width: 100px;
      height: 4px;
      background-color: var(--accent);
      transform-origin: center;
      transform: translateX(-50%) scaleX(0);
      transition: transform 0.6s cubic-bezier(0.19, 1, 0.22, 1) 0.4s;
    }

    .features {
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      gap: 30px;
    }

    .card {
      background-color: var(--card);
      border-radius: 15px;
      padding: 25px;
      width: 300px;
      border: 1px solid transparent;
      position: relative;
      overflow: hidden;
      /* Estilos para la animaci칩n de scroll */
      opacity: 0;
      transform: translateY(40px) scale(0.95);
      transition: opacity 0.6s ease-out, transform 0.6s ease-out, box-shadow 0.3s ease, border-color 0.3s ease;
    }

    .card:hover {
      transform: translateY(-10px) scale(1.03);
      box-shadow: 0 10px 30px var(--shadow);
      border-color: var(--accent);
    }

    .card::before {
      content: '';
      position: absolute;
      top: 0;
      left: -100%;
      width: 100%;
      height: 100%;
      background: linear-gradient(120deg, transparent, rgba(0, 255, 195, 0.1), transparent);
      transition: left 0.6s ease;
    }

    .card:hover::before {
      left: 100%;
    }

    .card::after {
      content: "";
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: radial-gradient(250px circle at var(--mouse-x, 0) var(--mouse-y, 0), rgba(0, 255, 195, 0.15), transparent 80%);
      opacity: 0;
      transition: opacity 0.3s ease-out;
      z-index: 0;
    }

    .card:hover::after {
      opacity: 1;
    }

    .card h3, .card p {
      opacity: 0;
      transform: translateY(15px);
      transition: opacity 0.5s ease, transform 0.5s ease;
      position: relative;
      z-index: 1;
    }

    .card.is-visible h3 {
      opacity: 1;
      transform: translateY(0);
      transition-delay: 0.3s;
    }

    .card.is-visible p {
      opacity: 1;
      transform: translateY(0);
      transition-delay: 0.4s;
    }

    .card h3 {
      color: var(--accent);
      margin-bottom: 15px;
      font-size: 1.5rem;
    }

    .download-btn {
      background: linear-gradient(45deg, var(--primary), #57b2f8);
      color: white;
      padding: 15px 40px;
      border-radius: 50px;
      font-size: 1.3rem;
      text-decoration: none;
      display: inline-block;
      margin-top: 30px;
      animation-delay: 0.8s;
      transition: transform 0.3s ease, box-shadow 0.3s ease;
      box-shadow: 0 4px 15px rgba(45, 151, 240, 0.4);
      position: relative;
      overflow: hidden;
    }

    .download-btn::before {
      content: '';
      position: absolute;
      top: 0;
      left: -150%;
      width: 100%;
      height: 100%;
      background: linear-gradient(120deg, transparent, rgba(255, 255, 255, 0.3), transparent);
      transition: left 0.7s ease;
    }

    .download-btn:hover {
      box-shadow: 0 8px 25px rgba(45, 151, 240, 0.6);
    }

    .download-btn:hover::before {
      left: 150%;
    }

    footer {
      text-align: center;
      padding: 30px 20px;
      font-size: 1rem;
      background-color: var(--bg-start);
      margin-top: 50px;
    }

    .gallery {
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      gap: 20px;
      margin-top: 20px;
    }

    .gallery-item {
      border-radius: 12px;
      overflow: hidden;
      will-change: transform;
      position: relative;
    }

    .gallery-item::after {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: linear-gradient(to top, rgba(0,0,0,0.8), transparent 50%);
      opacity: 0;
      transition: opacity 0.4s ease;
    }

    .gallery-item:hover::after {
      opacity: 1;
    }

    .gallery-caption {
      position: absolute;
      bottom: 0;
      left: 0;
      width: 100%;
      padding: 15px;
      color: white;
      transform: translateY(100%);
      opacity: 0;
      transition: transform 0.4s ease, opacity 0.4s ease;
      z-index: 2;
    }

    .gallery-item:hover .gallery-caption {
      transform: translateY(0);
      opacity: 1;
    }

    .gallery-caption h3 {
      margin: 0;
      font-size: 1.1rem;
    }

    .gallery img {
      width: 280px;
      height: 180px;
      object-fit: cover;
      display: block;
      transition: transform 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94), filter 0.4s ease;
      filter: grayscale(50%);
    }

    .gallery-item:hover img {
      transform: scale(1.1);
      filter: grayscale(0%);
    }

    .testimonials {
      max-width: 800px;
      margin: 40px auto 0;
    }

    .testimonial {
      background-color: var(--card);
      border-radius: 10px;
      padding: 20px;
      margin-bottom: 20px;
      border-left: 4px solid var(--accent);
      font-style: italic;
      /* Estilos para la animaci칩n de scroll */
      opacity: 0;
      transform: translateX(-30px) rotate(-2deg);
      transition: opacity 0.7s ease-out, transform 0.7s ease-out;
    }

    .testimonial:nth-child(even) {
        transform: translateX(30px);
    }

    .testimonial p {
      margin: 0;
    }

    /* Clase que a침adir치 el JS para activar la animaci칩n */
    .is-visible {
        opacity: 1;
        transform: none;
    }

    .section-title.is-visible::after {
      transform: translateX(-50%) scaleX(1);
    }

    /* Asignar retrasos en la transici칩n para las tarjetas */
    .card:nth-child(2) { transition-delay: 0.1s; }
    .card:nth-child(3) { transition-delay: 0.2s; }
    .card:nth-child(4) { transition-delay: 0.3s; }
    .testimonial:nth-child(2) { transition-delay: 0.1s; }
    .testimonial:nth-child(3) { transition-delay: 0.2s; }

    /* --- Section Divider --- */
    .section-divider {
      position: absolute;
      bottom: -1px; /* Avoid small gaps */
      left: 0;
      width: 100%;
      overflow: hidden;
      line-height: 0;
    }

    .section-divider svg {
      position: relative;
      display: block;
      width: calc(100% + 1.3px);
      height: 90px;
    }

    .section-divider .shape-fill {
      fill: var(--shape-fill-main);
    }

    .section-alt-bg {
      background-color: var(--bg-alt);
      position: relative; /* For the divider */
    }

    /* For dividers pointing to an alt-bg section */
    .section-divider.alt .shape-fill {
      fill: var(--shape-fill-alt);
    }

    /* --- Theme Switcher --- */
    #theme-switcher {
      background: transparent;
      border: none;
      padding: 0;
      vertical-align: middle;
      margin-left: 20px;
    }
    #theme-switcher svg {
      width: 24px;
      height: 24px;
      color: var(--accent);
      cursor: none; /* Use the custom cursor */
      transition: transform 0.3s ease;
    }
    #theme-switcher:hover svg {
      transform: scale(1.1) rotate(15deg);
    }
    #theme-switcher .moon { display: none; }
    #theme-switcher .sun { display: block; }
    [data-theme="light"] #theme-switcher .moon { display: block; }
    [data-theme="light"] #theme-switcher .sun { display: none; }

    /* --- Preloader --- */
    body.is-loading {
      overflow: hidden;
    }
    #preloader {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: var(--bg-start);
      z-index: 9999;
      display: flex;
      justify-content: center;
      align-items: center;
      transition: opacity 0.8s ease-in-out 0.2s;
    }
    .preloader-text {
      font-size: 2rem;
      font-weight: bold;
      color: var(--accent);
      animation: pulse-text 1.5s ease-in-out infinite;
    }
    @keyframes pulse-text {
      0% { transform: scale(1); opacity: 1; }
      50% { transform: scale(1.05); opacity: 0.7; }
      100% { transform: scale(1); opacity: 1; }
    }
    #preloader.loaded {
      opacity: 0;
      pointer-events: none;
    }

    #progress-bar {
      position: fixed;
      top: 0;
      left: 0;
      height: 4px;
      background: var(--accent);
      width: 0%;
      z-index: 1002;
      transition: width 0.1s ease-out;
    }
    .card:nth-child(4) { transition-delay: 0.3s; }
    .testimonial:nth-child(2) { transition-delay: 0.1s; }
    .testimonial:nth-child(3) { transition-delay: 0.2s; }

  </style>
</head>
<body>
  <div id="preloader">
    <div class="preloader-text">Nem치s OS</div>
  </div>
  <div id="progress-bar"></div>
  <div class="cursor-dot-outline"></div>
  <div class="cursor-dot"></div>
  <canvas id="particle-canvas"></canvas>
  <header class="hero">
    <h1 class="hero-title">Nem치s OS</h1>
    <p class="hero-subtitle">Presentamos la Versi칩n 1.0</p>
    <p class="tagline">Ubuntu without Ubuntu</p>
    <a class="download-btn" href="https://archive.org/details/nemasos1-0">Descargar ISO</a>
  </header>

  <nav>
    <a href="#features">Caracter칤sticas</a>
    <a href="#tpt">TPT</a>
    <a href="#screenshots">Capturas</a>
    <a href="https://github.com/tovicito/NemasOS">GitHub</a>
    <button id="theme-switcher" aria-label="Switch theme">
      <svg class="sun" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M12 2.25a.75.75 0 01.75.75v2.25a.75.75 0 01-1.5 0V3a.75.75 0 01.75-.75zM7.5 12a4.5 4.5 0 119 0 4.5 4.5 0 01-9 0zM18.894 6.166a.75.75 0 00-1.06-1.06l-1.591 1.59a.75.75 0 101.06 1.061l1.591-1.59zM21.75 12a.75.75 0 01-.75.75h-2.25a.75.75 0 010-1.5H21a.75.75 0 01.75.75zM17.834 18.894a.75.75 0 001.06-1.06l-1.59-1.591a.75.75 0 10-1.061 1.06l1.59 1.591zM12 18a.75.75 0 01.75.75v2.25a.75.75 0 01-1.5 0V18.75A.75.75 0 0112 18zM7.166 17.834a.75.75 0 00-1.06 1.06l1.59 1.591a.75.75 0 101.06-1.061l-1.59-1.591zM5.25 12a.75.75 0 01-.75.75H3a.75.75 0 010-1.5h2.25A.75.75 0 015.25 12zM6.106 7.166a.75.75 0 00-1.06-1.06l-1.591 1.59a.75.75 0 001.06 1.061l1.591-1.59z"/></svg>
      <svg class="moon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path fill-rule="evenodd" d="M9.528 1.718a.75.75 0 01.162.819A8.97 8.97 0 009 6a9 9 0 009 9 8.97 8.97 0 004.472-.948.75.75 0 01.819.162l.805.706a.75.75 0 01-.188 1.151A12.001 12.001 0 0112 21a12.001 12.001 0 01-9.47-4.782.75.75 0 01-.188-1.15l.805-.707a.75.75 0 01.819-.162z" clip-rule="evenodd" /></svg>
    </button>
  </nav>

  <section class="section" id="features">
    <h2 class="section-title">Caracter칤sticas Destacadas</h2>
    <div class="features">
      <div class="card">
        <h3>Ligero</h3>
        <p>Requisitos recomendados: 4GB de RAM y CPU de 2 n칰cleos para una experiencia fluida. Sin embargo, est치 ultra-optimizado para revivir hardware antiguo, funcionando incluso con 2GB de RAM y 1 n칰cleo.</p>
      </div>
      <div class="card">
        <h3>Moderno</h3>
        <p>Disfruta de un escritorio moderno con KDE Plasma. Incluye nuestro revolucionario gestor de paquetes TPT, compatible con m치s de 10 formatos.</p>
      </div>
      <div class="card">
        <h3>Compatible</h3>
        <p>Construido sobre la s칩lida base de Debian, disfrutando la facilidad de Ubuntu pero libre de Snap.</p>
      </div>
      <div class="card">
        <h3>R치pido</h3>
        <p>Experimenta un arranque ultrarr치pido y una interfaz fluida con nuestro splash screen minimalista.</p>
      </div>
    </div>
    <div class="section-divider alt">
      <svg data-name="Layer 1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1200 120" preserveAspectRatio="none">
        <path d="M1200 120L0 16.48 0 0 1200 0 1200 120z" class="shape-fill"></path>
      </svg>
    </div>
  </section>

  <section class="section section-alt-bg" id="tpt">
    <h2 class="section-title">Gestor de Paquetes TPT</h2>
    <div class="features">
      <div class="card">
        <h3>S칰per Ligero</h3>
        <p>Con un peso de solo 128 KiB, TPT es la herramienta perfecta para mantener tu sistema 치gil y ligero.</p>
      </div>
      <div class="card">
        <h3>Funcional</h3>
        <p>Unifica tu gesti칩n de software. TPT maneja nativamente .deb, Flatpak, Snap, AppImage, .sh, .py y m치s.</p>
      </div>
      <div class="card">
        <h3>Avanzado</h3>
        <p>Funciones de nivel profesional: logs detallados, verificaci칩n MD5, cach칠 inteligente, y actualizaciones offline.</p>
      </div>
    </div>
    <div class="section-divider">
      <svg data-name="Layer 1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1200 120" preserveAspectRatio="none">
        <path d="M1200 120L0 16.48 0 0 1200 0 1200 120z" class="shape-fill"></path>
      </svg>
    </div>
  </section>

  <section class="section" id="screenshots">
    <h2 class="section-title">Nem치s OS en Acci칩n</h2>
    <div class="gallery">
      <div class="gallery-item">
        <img src="https://images.unsplash.com/photo-1623671512344-38c821193a9e?q=80&w=280&h=180&crop=entropy&fit=crop" alt="Escritorio Nem치s OS">
        <div class="gallery-caption">
          <h3>Escritorio Nem치s OS</h3>
        </div>
      </div>
      <div class="gallery-item">
        <img src="https://images.unsplash.com/photo-1593421293075-e0a58145244c?q=80&w=280&h=180&crop=entropy&fit=crop" alt="Gestor de Paquetes TPT">
        <div class="gallery-caption">
          <h3>Gestor de Paquetes TPT</h3>
        </div>
      </div>
      <div class="gallery-item">
        <img src="https://images.unsplash.com/photo-1517694712202-14dd9538aa97?q=80&w=280&h=180&crop=entropy&fit=crop" alt="Instalador Calamares">
        <div class="gallery-caption">
          <h3>Instalador Calamares</h3>
        </div>
      </div>
    </div>
    <div class="testimonials">
      <div class="testimonial">
        <p>"춰Revivi칩 mi netbook del 2008! Ahora vuela como nunca." - <strong>@frikiRetro</strong></p>
      </div>
      <div class="testimonial">
        <p>"TPT es lo mejor desde APT. Instala hasta lo imposible." - <strong>@devterminalero</strong></p>
      </div>
      <div class="testimonial">
        <p>"Lo instal칠 en un Asus de museo. Anda m치s r치pido que mi Windows 11." - <strong>@abueLinux</strong></p>
      </div>
    </div>
  </section>

  <footer>
    <p>&copy; 2025 Nem치s OS - Creado con 游눛 por Neizan y Tom치s</p>
  </footer>

  <script>
    document.addEventListener('DOMContentLoaded', () => {
      // Preloader logic
      const preloader = document.getElementById('preloader');
      document.body.classList.add('is-loading');
      window.addEventListener('load', () => {
        if (preloader) {
          preloader.classList.add('loaded');
        }
        document.body.classList.remove('is-loading');
      });

      // 3D Hero Title Effect
      const hero = document.querySelector('.hero');
      const heroTitle = document.querySelector('.hero-title');

      if (hero && heroTitle) {
        hero.addEventListener('mousemove', (e) => {
          const { clientX, clientY } = e;
          const { offsetWidth, offsetHeight } = hero;
          const x = (clientX - hero.offsetLeft - offsetWidth / 2) / (offsetWidth / 2);
          const y = (clientY - hero.offsetTop - offsetHeight / 2) / (offsetHeight / 2);
          const rotateY = x * 15; // Max rotation 15deg
          const rotateX = -y * 15;

          heroTitle.style.transform = `rotateX(${rotateX}deg) rotateY(${rotateY}deg)`;
        });

        hero.addEventListener('mouseleave', () => {
          heroTitle.style.transform = 'rotateX(0) rotateY(0)';
        });
      }

      // Letter-by-letter animation for hero title
      if (heroTitle) {
          const text = heroTitle.textContent.trim();
          const letters = text.split('');
          heroTitle.textContent = '';
          letters.forEach((letter, i) => {
              const span = document.createElement('span');
              span.textContent = letter === ' ' ? '\u00A0' : letter; // Handle spaces
              span.style.setProperty('--delay', `${i * 0.07}s`);
              heroTitle.appendChild(span);
          });
      }

      // Particle animation script
      const canvas = document.getElementById('particle-canvas');
      if (canvas) {
        const ctx = canvas.getContext('2d');
        canvas.width = window.innerWidth;
        canvas.height = window.innerHeight;

        let particlesArray;

        let mouse = {
            x: null,
            y: null,
            radius: (canvas.height/100) * (canvas.width/100)
        }

        window.addEventListener('mousemove', (event) => {
            mouse.x = event.x;
            mouse.y = event.y;
        });

        class Particle {
            constructor(x, y, directionX, directionY, size, color) {
                this.x = x;
                this.y = y;
                this.directionX = directionX;
                this.directionY = directionY;
                this.size = size;
                this.color = color;
            }
            draw() {
                ctx.beginPath();
                ctx.arc(this.x, this.y, this.size, 0, Math.PI * 2, false);
                ctx.fillStyle = 'rgba(0, 255, 195, 0.4)';
                ctx.fill();
            }
            update() {
                if (this.x > canvas.width || this.x < 0) {
                    this.directionX = -this.directionX;
                }
                if (this.y > canvas.height || this.y < 0) {
                    this.directionY = -this.directionY;
                }

                let dx = mouse.x - this.x;
                let dy = mouse.y - this.y;
                let distance = Math.sqrt(dx*dx + dy*dy);
                if (distance < mouse.radius + this.size){
                    if(mouse.x < this.x && this.x < canvas.width - this.size * 10){ this.x += 5; }
                    if(mouse.x > this.x && this.x > this.size * 10){ this.x -= 5; }
                    if(mouse.y < this.y && this.y < canvas.height - this.size * 10){ this.y += 5; }
                    if(mouse.y > this.y && this.y > this.size * 10){ this.y -= 5; }
                }
                this.x += this.directionX;
                this.y += this.directionY;
                this.draw();
            }
        }

        function init() {
            particlesArray = [];
            let numberOfParticles = (canvas.height * canvas.width) / 12000;
            for (let i = 0; i < numberOfParticles; i++) {
                let size = (Math.random() * 2) + 1;
                let x = (Math.random() * ((innerWidth - size * 2) - (size * 2)) + size * 2);
                let y = (Math.random() * ((innerHeight - size * 2) - (size * 2)) + size * 2);
                let directionX = (Math.random() * .4) - 0.2;
                let directionY = (Math.random() * .4) - 0.2;
                let color = 'rgba(0, 255, 195, 0.4)';
                particlesArray.push(new Particle(x, y, directionX, directionY, size, color));
            }
        }

        function connect(){
            let opacityValue = 1;
            for (let a = 0; a < particlesArray.length; a++) {
                for (let b = a; b < particlesArray.length; b++) {
                    let distance = ((particlesArray[a].x - particlesArray[b].x) * (particlesArray[a].x - particlesArray[b].x))
                    + ((particlesArray[a].y - particlesArray[b].y) * (particlesArray[a].y - particlesArray[b].y));
                    if (distance < (canvas.width/8) * (canvas.height/8)) {
                        opacityValue = 1 - (distance/20000);
                        ctx.strokeStyle='rgba(0, 255, 195,' + opacityValue + ')';
                        ctx.lineWidth = 1;
                        ctx.beginPath();
                        ctx.moveTo(particlesArray[a].x, particlesArray[a].y);
                        ctx.lineTo(particlesArray[b].x, particlesArray[b].y);
                        ctx.stroke();
                    }
                }
            }
        }

        function animate() {
            requestAnimationFrame(animate);
            ctx.clearRect(0,0,innerWidth, innerHeight);
            for (let i = 0; i < particlesArray.length; i++) {
                particlesArray[i].update();
            }
            connect();
        }

        window.addEventListener('resize', () => {
            canvas.width = innerWidth;
            canvas.height = innerHeight;
            mouse.radius = ((canvas.height/100) * (canvas.width/100));
            init();
        });

        window.addEventListener('mouseout', () => {
            mouse.x = undefined;
            mouse.y = undefined;
        });

        init();
        animate();
      }

      // Parallax effect for gallery
      const galleryItems = document.querySelectorAll('.gallery-item');
      const parallaxSpeed = -0.1;

      function parallaxGallery() {
        galleryItems.forEach(item => {
          const rect = item.getBoundingClientRect();
          // Only animate if the item is in the viewport
          if (rect.top < window.innerHeight && rect.bottom > 0) {
            const y = (rect.top - window.innerHeight / 2) * parallaxSpeed;
            item.style.transform = `translateY(${y}px)`;
          }
        });
      }

      // Throttled scroll listener
      const progressBar = document.getElementById('progress-bar');
      let isTicking = false;

      function handleScroll() {
        // Parallax
        parallaxGallery();

        // Progress bar
        if (progressBar) {
            const scrollTop = document.documentElement.scrollTop;
            const scrollHeight = document.documentElement.scrollHeight - document.documentElement.clientHeight;
            const scrollPercent = (scrollTop / scrollHeight) * 100;
            progressBar.style.width = `${scrollPercent}%`;
        }
      }

      window.addEventListener('scroll', () => {
        if (!isTicking) {
          window.requestAnimationFrame(() => {
            handleScroll();
            isTicking = false;
          });
          isTicking = true;
        }
      });


      // Aurora card effect
      const cards = document.querySelectorAll('.card');
      cards.forEach(card => {
          card.addEventListener('mousemove', e => {
              const rect = card.getBoundingClientRect();
              const x = e.clientX - rect.left;
              const y = e.clientY - rect.top;
              card.style.setProperty('--mouse-x', `${x}px`);
              card.style.setProperty('--mouse-y', `${y}px`);
          });
      });

      // Custom cursor script
      const cursorDot = document.querySelector(".cursor-dot");
      const cursorOutline = document.querySelector(".cursor-dot-outline");
      const interactiveElements = document.querySelectorAll('a, button, .card');

      let cursorVisible = false;

      window.addEventListener("mousemove", (e) => {
        const posX = e.clientX;
        const posY = e.clientY;

        if (!cursorVisible) {
            cursorDot.style.opacity = 1;
            cursorOutline.style.opacity = 1;
            cursorVisible = true;
        }

        cursorDot.style.left = `${posX}px`;
        cursorDot.style.top = `${posY}px`;

        cursorOutline.animate({
            left: `${posX}px`,
            top: `${posY}px`
        }, { duration: 500, fill: "forwards" });
      });

      interactiveElements.forEach(el => {
          el.addEventListener('mouseenter', () => {
              cursorOutline.classList.add('hover');
          });
          el.addEventListener('mouseleave', () => {
              cursorOutline.classList.remove('hover');
          });
      });

      // Theme switcher logic
      const themeSwitcher = document.getElementById('theme-switcher');
      if (themeSwitcher) {
        themeSwitcher.addEventListener('click', () => {
          const currentTheme = document.documentElement.getAttribute('data-theme');
          const newTheme = currentTheme === 'light' ? 'dark' : 'light';
          document.documentElement.setAttribute('data-theme', newTheme);
          localStorage.setItem('theme', newTheme);
        });
      }

      // Magnetic buttons
      const navLinks = document.querySelectorAll('nav a');
      navLinks.forEach(link => {
        link.addEventListener('mousemove', (e) => {
          const { offsetX, offsetY, target } = e;
          const { clientWidth, clientHeight } = target;
          const x = (offsetX - clientWidth / 2) / (clientWidth / 2);
          const y = (offsetY - clientHeight / 2) / (clientHeight / 2);

          target.style.transform = `translate(${x * 5}px, ${y * 5}px)`;
        });
        link.addEventListener('mouseleave', (e) => {
          e.target.style.transform = 'translate(0, 0)';
        });
      });

      // IntersectionObserver script
      const animatedElements = document.querySelectorAll('.section-title, .card, .testimonial');

      const observer = new IntersectionObserver((entries, observer) => {
        entries.forEach(entry => {
          if (entry.isIntersecting) {
            entry.target.classList.add('is-visible');
            observer.unobserve(entry.target);
          }
        });
      }, {
        rootMargin: '0px',
        threshold: 0.1
      });

      animatedElements.forEach(element => {
        observer.observe(element);
      });
    });
  </script>
</body>
</html>
